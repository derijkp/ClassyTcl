# Generated automatically from Makefile.in by configure.
#
# This file is a Makefile.  If it has the name "Makefile.in"
# then it is a template for a Makefile;  to generate the actual Makefile,
# run "./configure", which is a configuration script generated by the
# "autoconf" program (constructs like "@foo@" will get replaced in the
# actual Makefile.
#

# To change the compiler switches, for example to change from -O
# to -g, change the following line:
CFLAGS = -g -Wall

TCL_SRC=	/home/peter/tcl/tcl8.0
TK_SRC =	/home/peter/tcl/tk8.0
CC = gcc
DEFS =  -DHAVE_UNISTD_H=1 -DHAVE_LIMITS_H=1 -DSTDC_HEADERS=1 -DHAVE_SYS_TIME_H=1 -DTIME_WITH_SYS_TIME=1 

SHLIB_LD = gcc -shared
LIBS = -L/usr/X11R6/lib -lX11 -ldl  -lieee -lm
SHLIB_CFLAGS = -fPIC
SHLIB_LD_LIBS = 
SHLIB_SUFFIX = .so
LD_FLAGS = -fPIC
X11_INCLUDES = -I/usr/X11R6/include
X11_LIB_SWITCHES = -L/usr/X11R6/lib -lX11
TCL_LIB_SPEC = -L/usr/local/lib -ltcl8.0
TK_LIB_SPEC = -L/usr/local/lib -ltk8.0

CC_SWITCHES = $(CFLAGS) $(SHLIB_CFLAGS) $(DEFS) -I$(TCL_SRC)/unix -I$(TCL_SRC)/generic \
			 -I${TK_SRC}/generic -I${TK_SRC}/xlib/X11 ${X11_INCLUDES}
CLASSYOBJS= class.o private.o classyInit.o
SRCS= class.c var.c classyInit.c

# --------------------------- Rules -----------------------------

all: classy$(SHLIB_SUFFIX)

classy$(SHLIB_SUFFIX): $(CLASSYOBJS)
	$(SHLIB_LD) $(CFLAGS) -o ../classy$(SHLIB_SUFFIX) $(CLASSYOBJS)

classytcl: tclAppInit.o $(CLASSYOBJS)
	$(CC) $(CFLAGS) -o classytcl tclAppInit.o $(CLASSYOBJS) ${TCL_LIB_SPEC} ${LIBS}

classywish: tkAppInit.o $(CLASSYOBJS)
	$(CC) $(CFLAGS) -o classywish tkAppInit.o $(CLASSYOBJS) ${TCL_LIB_SPEC} ${TK_LIB_SPEC} ${LIBS}

clean:
	rm -f *.o ../classy$(SHLIB_SUFFIX) ../win/*.csm ../win/tmp/* ../*.dll

distclean:
	rm -f config.cache config.log config.status Makefile

depend:
	makedepend -- $(CC_SWITCHES) -- $(SRCS)

.c.o:
	$(CC) -c $(CC_SWITCHES) $<

# DO NOT DELETE THIS LINE -- make depend depends on it.

