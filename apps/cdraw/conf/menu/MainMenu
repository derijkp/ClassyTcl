
menu "File" {
	action "Open file" {fileload %W} <<Load>>
	action "Save" {filesave %W} <<Save>>
	action "Save as" {saveas %W} <<SaveAs>>
	action "Print" {print %W} <<Print>>
	separator
	action "Page Setup" {pagesetup %W} <<PageSetup>>
	action "Clear page" {
		if [Classy::yorn "Are you absolutely sure you want to clear the page (no undo)"] {clearpage %W}
	} <<Clear>>
	separator
	action "Editor" {edit newfile} <<Editor>>
	action "Command window" {Classy::cmd} <<Cmd>>
	action "Builder" {catch {destroy .classy__.builder};Classy::Builder .classy__.builder} <<Builder>>
	action "Customise application" {Classy::Config dialog} <<Customise>>
	action "Customise menu" {Classy::Config dialog -key menu,MainMenu} <<CustomiseMenu>>
	action "Customise toolbar" {Classy::Config dialog -key toolbar,MainTool} <<CustomiseTool>>
	action "Exit" {exit} <<Exit>>
}
menu "Edit" {
	action "Deselect" {deselect %W} <<Escape>>
	separator
	action "Delete" {delete %W} <<Delete>>
	action "Cut" {cut %W} <<Cut>>
	action "Copy" {copy %W} <<Copy>>
	action "Paste" {paste %W} <<Paste>>
#	action "Copy to windows clipb" {wincopy %W} <<WinCopy>>
#	action "Copy sel to windows clipb" {wincopy %W _sel} <<WinCopySel>>
#	action "Copy page to windows clipb" {wincopy %W all} <<WinCopyPage>>
	separator
	check "Undo on" {-variable [privatevar %W current(undo)] -onvalue 1 -offvalue 0 -command {undoon %W}} <<UndoStatus>>
	action "Undo" {undo %W} <<Undo>>
	action "Redo" {redo %W} <<Redo>>
	action "Undo steps" {undosteps} <<UndoSteps>>
	action "Clear undo buffer" {clearundo %W} <<ClearUndo>>
}
menu "Objects" {
	action "Properties toolbars" {extratool %W Properties} <p>
	action "Group" {group %W} <Control-g>
	action "Ungroup" {ungroup %W} <Control-u>
	separator
	action "Raise object" {raise_objects %W _sel} <<Raise>>
	action "Lower object" {lower_objects %W _sel} <<Lower>>
	action "Raise to top" {top_objects %W _sel} <<Top>>
	action "Lower to bottom" {bottom_objects %W _sel} <<Bottom>>
}
menu "Mode" {
	radio "Select" {-command {select_start %W} -variable [privatevar %W current(tool)] -value select} <<Select>>
	separator
	check "Rotate" {-variable [privatevar %W current(rotate)] -command {rotate_set %W}} <r>
	separator
	radio "Zoom" {-command {zoom_start %W} -variable [privatevar %W current(tool)] -value zoom} <Control-z>
	radio "Text" {-command {text_start %W} -variable [privatevar %W current(tool)] -value text} <Control-t>
	radio "Line" {-command {line_start %W} -variable [privatevar %W current(tool)] -value line} <Control-l>
	radio "Polygon" {-command {polygon_start %W} -variable [privatevar %W current(tool)] -value polygon} <Control-p>
	radio "Rectangle" {-command {rectangle_start %W} -variable [privatevar %W current(tool)] -value rectangle} <Control-r>
	radio "Oval" {-command {oval_start %W} -variable [privatevar %W current(tool)] -value oval} <Control-o>
	radio "Arc" {-command {arc_start %W} -variable [privatevar %W current(tool)] -value arc} <Control-a>
	action "Insert bitmap" {bitmap_insert %W [Classy::selectfile]} <<BitMap>>
}
menu "Help" {
	action "cdraw" {Classy::help cdraw} <<Help>>
	action "Contents" {Classy::help contents.html} <<HelpContents>>
	separator
	action "ClassyTcl" {Classy::help ClassyTcl} <<HelpClassyTcl>>
	action "Help" {Classy::help classy_help} <<HelpHelp>>
}